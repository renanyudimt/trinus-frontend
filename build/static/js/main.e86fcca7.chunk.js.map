{"version":3,"sources":["Store/Reducer.js","Store/AuthContext.js","pages/Home.js","pages/Login.js","pages/Signup.js","pages/Uploads.js","components/Routes/LoggedRoute.js","components/Routes/NotLoggedRoute.js","App.js","index.js"],"names":["Reducer","state","action","type","user","payload","initialState","Context","createContext","Authentication","children","useReducer","dispatch","Provider","value","Home","useContext","console","log","className","src","alt","name","email","to","Login","useState","setEmail","password","setPassword","history","useHistory","alert","useAlert","data","a","axios","post","headers","then","response","useMutation","handleLogin","mutate","isLoading","isSuccess","isError","useEffect","push","error","onSubmit","e","preventDefault","placeholder","onChange","target","required","disabled","Signup","setUsername","repeatPassword","setRepeatPassword","Profile","files","setFiles","useQuery","get","id","fileName","FileSaver","saveAs","accept","reader","FileReader","onload","readyState","formData","FormData","set","length","readAsDataURL","map","item","key","onClick","handleDownload","LoggedRoute","Component","component","rest","render","props","NotLoggedRoute","queryClient","QueryClient","App","QueryClientProvider","client","path","exact","Uploads","options","timeout","position","positions","BOTTOM_CENTER","transistion","transitions","SCALE","ReactDOM","StrictMode","template","AlertTemplate","document","getElementById"],"mappings":"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","file":"static/js/main.e86fcca7.chunk.js","sourcesContent":["const Reducer = (state, action) => {\n  switch(action.type) {\n    case \"SET_USER\":\n      return {\n        user: action.payload\n      }\n\n    case \"CLEAR\":\n      return {\n        user: false\n      };\n\n    default: \n      return state;\n  }\n}\n\nexport default Reducer;","import React, { createContext, useReducer } from \"react\";\nimport Reducer from \"./Reducer\";\n\nconst initialState = {\n  user: false\n}\n\nexport const Context = createContext(initialState);\n\nfunction Authentication({ children }) {\n  const [state, dispatch] = useReducer(Reducer, initialState);\n  return (\n    <Context.Provider value={[state, dispatch]}>\n      { children }\n    </Context.Provider>\n  )\n}\n\nexport default Authentication;","import React, { useContext } from 'react'\nimport { Link } from \"react-router-dom\"\nimport { Context } from  \"./../Store/AuthContext\";\n\nconst Home = () => {\n  const [state, dispatch] = useContext(Context);\n  console.log(state)\n\n  return (\n    <div className=\"bg-primary min-h-screen flex flex-col items-center justify-center p-4 lg:p-0\">\n      <img src=\"/trinusco.png\" alt=\"Logo\" className=\"w-150px lg:w-300px\" />\n      { state.user ? (\n        <div className=\"w-full lg:w-400px p-6 rounded-2xl bg-white mt-8\">\n          <div className=\"flex items-center\">\n            <b>Logado como: </b>\n            <p className=\"ml-4\">{ state.user.name }</p>\n          </div>\n          <div className=\"flex items-center\">\n            <b>Email: </b>\n            <p className=\"ml-4\">{ state.user.email }</p>\n          </div>\n          <Link className=\"bg-secondary text-white rounded h-40px w-full py-4 mt-4 shadow-md transition duration-300 hover:bg-secondary-light flex items-center justify-center\" to=\"/uploads\">Central de Uploads</Link>\n        </div>\n      ) : (\n        <div className=\"bg-white rounded-2xl mt-8 p-4 w-full lg:w-400px h-250px lg:h-400px flex flex-col items-center justify-center\">\n          <Link className=\"bg-secondary text-white rounded h-40px w-200px py-4 shadow-md transition duration-300 hover:bg-secondary-light flex items-center justify-center\" to=\"login\">Login</Link>\n          <Link className=\"bg-secondary text-white rounded h-40px w-200px py-4 shadow-md transition duration-300 hover:bg-secondary-light flex items-center justify-center mt-4\" to=\"Signup\">Signup</Link>\n        </div>\n      )}\n    \n    </div>\n  )\n}\n\nexport default Home;","import React, { useState, useEffect, useContext } from 'react'\nimport axios from \"axios\";\nimport { useMutation } from \"react-query\"\nimport { useHistory, Link } from \"react-router-dom\"\nimport { useAlert } from \"react-alert\";\nimport { Context } from \"./../Store/AuthContext\"\n\nconst Login = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [state, dispatch] = useContext(Context);\n\n  const history = useHistory();\n  const alert = useAlert(); \n\n  async function handleLogin(data) {\n    await axios.post('https://desafio-trinus-backend.herokuapp.com/login', data, { headers: { 'Content-Type' : \"application/json\" }})\n      .then(response => {\n        dispatch({type: 'SET_USER', payload: response.data[0]});\n      })\n  }\n\n  const {mutate, isLoading, isSuccess, isError } = useMutation((data) => \n    handleLogin(data)\n  )\n\n  useEffect(() => {\n    if (isSuccess) {\n      history.push(\"/uploads\")\n    }\n\n    if (isError) {\n      alert.error(\"Email ou password incorreto\")\n    }\n\n  }, [isSuccess, isError, alert])\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    mutate({\n      email,\n      password\n    })\n  }\n\n  return (\n    <div className=\"bg-orange min-h-screen flex flex-col items-center justify-center p-4 lg:p-0\">\n      <Link to=\"/\">\n        <img src=\"/trinusco.png\" alt=\"Logo\" className=\"w-150px lg:w-300px\" />\n      </Link>\n      <div className=\"bg-white rounded-2xl mt-8 p-4 w-full lg:w-400px h-400px flex flex-col items-center justify-center\">\n        <form className=\"w-full\" onSubmit={handleSubmit}>\n          <div className=\"flex flex-col w-full mb-6\">\n            <label>Email</label>\n            <input type=\"text\" name=\"email\" className=\"border border-gray-200 border-2 rounded h-35px px-4 mt-2\" placeholder=\"username\" onChange={e => setEmail(e.target.value)} value={email} required />\n          </div>\n          <div className=\"flex flex-col w-full mb-6\">\n            <label>Password</label>\n            <input type=\"password\" name=\"password\" className=\"border border-gray-200 border-2 rounded h-35px px-4 mt-2\" placeholder=\"username\" onChange={e => setPassword(e.target.value)} value={password} required/>\n          </div>\n          <button type=\"submit\" className=\"bg-secondary text-white rounded h-40px w-full py-4 shadow-md transition duration-300 hover:bg-secondary-light flex items-center justify-center mt-4\" disabled={isLoading ? true : false}>Login</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Login;","import React, { useState, useEffect, useContext } from 'react'\nimport { useAlert } from \"react-alert\"\nimport { useMutation } from \"react-query\"\nimport axios from \"axios\"\nimport { useHistory, Link } from \"react-router-dom\";\nimport { Context } from \"./../Store/AuthContext\"\n\nconst Signup = () => {\n  const [name, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [repeatPassword, setRepeatPassword] = useState(\"\");\n  const history = useHistory();\n  const alert = useAlert();\n  const [state, dispatch] = useContext(Context);\n\n\n  const {mutate, isLoading, isSuccess, isError } = useMutation(async (data) => \n    await axios.post('https://desafio-trinus-backend.herokuapp.com/signup', data, { headers: { 'Content-Type' : \"application/json\" }})\n      .then(response => {\n        console.log(response)\n        dispatch({type: 'SET_USER', payload: response.data});\n      })\n  )\n\n  useEffect(() => {\n    if (isSuccess) {\n      history.push(\"/\");\n    }\n\n    if(isError) {\n      alert.error(\"Usuario ja existente\")\n    }\n\n  }, [isLoading, isError, isSuccess])\n\n\n  async function handleForm(e) {\n    e.preventDefault();\n    if (password !== repeatPassword) {\n      alert.error(\"Senhas nao sao iguais\");\n    } else {\n      await mutate({ name, email, password })\n    }\n  }\n\n  return (\n    <div className=\"bg-yellow min-h-screen flex flex-col items-center justify-center p-4 lg:p-0\">\n      <Link to=\"/\">\n        <img src=\"/trinusco.png\" alt=\"Logo\" className=\"w-150px lg:w-300px\" />\n      </Link>\n      <div className=\"bg-white rounded-2xl mt-8 p-4 w-full lg:w-400px h-550px flex flex-col items-center justify-center\">\n        <form className=\"w-full\" onSubmit={handleForm}>\n          <div className=\"flex flex-col w-full mb-6\">\n            <label>Name</label>\n            <input type=\"text\" name=\"username\" className=\"border border-gray-200 border-2 rounded h-35px px-4 mt-2\" placeholder=\"username\" onChange={e => setUsername(e.target.value)} value={name} required />\n          </div>\n          <div className=\"flex flex-col w-full mb-6\">\n            <label>E-mail</label>\n            <input type=\"email\" name=\"email\" className=\"border border-gray-200 border-2 rounded h-35px px-4 mt-2\" placeholder=\"e-mail\" onChange={e => setEmail(e.target.value)} value={email} required />\n          </div>\n          <div className=\"flex flex-col w-full mb-6\">\n            <label>Password</label>\n            <input type=\"password\" name=\"password\" className=\"border border-gray-200 border-2 rounded h-35px px-4 mt-2\" placeholder=\"Password\" onChange={e => setPassword(e.target.value)} value={password} required />\n          </div>\n          <div className=\"flex flex-col w-full mb-6\">\n            <label>Repeat Password</label>\n            <input type=\"password\" name=\"repeatpassword\" className=\"border border-gray-200 border-2 rounded h-35px px-4 mt-2\" placeholder=\"Password\" onChange={e => setRepeatPassword(e.target.value)} value={repeatPassword} required />\n          </div>\n          <button type=\"submit\" className=\"bg-secondary text-white rounded h-40px w-full py-4 shadow-md transition duration-300 hover:bg-secondary-light flex items-center justify-center mt-4\" disabled={isLoading ? true : false }>Signup</button>\n        </form>\n      </div>\n    </div>\n  )\n}\n\nexport default Signup;","import React, { useContext, useState } from 'react'\nimport axios from \"axios\"\nimport { useMutation, useQuery } from \"react-query\";\nimport { Context } from \"./../Store/AuthContext\"\nimport { Link } from \"react-router-dom\"\nimport FileSaver from \"file-saver\"\n\nconst Profile = () => {\n  const [state, dispatch] = useContext(Context);\n  const [files, setFiles] = useState(\"\");\n\n  const {mutate, isLoading } = useMutation(async (data) => \n    await axios.post('https://desafio-trinus-backend.herokuapp.com/upload', data, { headers: { 'Content-Type' : \"multipart/form-data\" }})\n      .then(response => {\n        setFiles(response.data)\n      })\n  )\n\n  const uploads = useQuery(\"uploads\", async () => {\n    await axios.get(`https://desafio-trinus-backend.herokuapp.com/uploads/${state.user.id}`)\n      .then(response => {\n        setFiles(response.data)\n      })\n  })\n\n  function handleChange(e) {\n    const reader = new FileReader();\n    reader.onload = () => {\n      if (reader.readyState === 2) {\n        const formData = new FormData();\n        formData.set(\"file\",e.target.files[0]);\n        formData.set(\"userId\", state.user.id);\n        mutate(formData)\n      }\n    };\n\n    if (e.target.files.length > 0) {\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }\n\n  async function handleDownload(fileName) {\n    FileSaver.saveAs(`https://desafio-trinus-backend.herokuapp.com/download/${fileName}`, fileName);\n  }\n\n  return (\n    <div className=\"bg-primary min-h-screen flex flex-col items-center justify-center p-4 lg:p-0\">\n      <Link to=\"/\">\n        <img src=\"/trinusco.png\" alt=\"Logo\" className=\"w-150px lg:w-300px\" />\n      </Link>\n      <div className=\" w-full lg:w-400px h-auto bg-white p-6 rounded-lg flex flex-col mt-4\">\n        <p>Selecione o arquivo</p>\n        <input disabled={isLoading ? true : false } type=\"file\" accept=\"image/*\" className=\"h-40px w-full mt-4\" onChange={handleChange}/>\n        <b className=\"mt-6\">Meus uploads:</b>\n        <ul className=\"mt-4\">\n          {files && (files.map((item, key) => (\n            <li className=\"flex items-center justify-between\" key={key}>\n              {item.fileName}\n              <button className=\"text-secondary underline hover:text-secondary-light\" onClick={() => handleDownload(item.fileName)}>\n                download\n              </button>\n            </li>\n          )))}\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default Profile;","import React, { Fragment, useContext } from 'react'\nimport { Route, Redirect  } from \"react-router-dom\"\nimport { Context } from  \"./../../Store/AuthContext\";\n\nconst LoggedRoute = ({component: Component, ...rest }) => {\n  const [state, dispatch] = useContext(Context);\n  \n  return (\n    <Fragment>\n      <Route {...rest} render={props => {\n        if (!state.user) {\n          return <Redirect to='/' />\n        }\n\n        return <Component {...rest } />\n      }} />\n    </Fragment>\n  )\n}\n\nexport default LoggedRoute","import React, { Fragment, useContext } from 'react'\nimport { Route, Redirect } from \"react-router-dom\"\nimport { Context } from  \"./../../Store/AuthContext\";\n\nconst NotLoggedRoute = ({ component: Component, ...rest }) => {\n  const [state, dispatch] = useContext(Context);\n  console.log(state.user)\n  return (\n    <Fragment>\n      <Route {...rest} render={props => {\n        if (state.user !== false) {\n          return <Redirect to='/' />\n        }\n\n        return <Component {...rest } />\n      }} />\n    </Fragment>\n  )\n}\n\nexport default NotLoggedRoute","import { BrowserRouter as Router, Route } from \"react-router-dom\"\nimport Home from \"./pages/Home\";\nimport Login from \"./pages/Login\";\nimport Signup from \"./pages/Signup\";\nimport Uploads from \"./pages/Uploads\"\nimport Authentication from \"./Store/AuthContext\";\n\nimport LoggedRoute from \"./components/Routes/LoggedRoute\";\nimport NotLoggedRoute from \"./components/Routes/NotLoggedRoute\";\n\nimport { QueryClient, QueryClientProvider } from 'react-query'\nconst queryClient = new QueryClient()\n\nfunction App() {\n  return (\n    <Authentication>\n      <Router>\n        <QueryClientProvider client={queryClient}>\n          <div className=\"App\">\n            <Route path=\"/\" component={Home} exact />\n            <NotLoggedRoute path=\"/login\" component={Login} exact />\n            <NotLoggedRoute path=\"/signup\" component={Signup} exact />\n            <LoggedRoute path=\"/uploads\" component={Uploads} />\n          </div>\n        </QueryClientProvider>\n      </Router>\n    </Authentication>\n  \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { positions, transitions, Provider as AlertProvider } from \"react-alert\"\nimport AlertTemplate from \"react-alert-template-basic\"\n\n\nconst options = {\n  timeout: 5000,\n  position: positions.BOTTOM_CENTER,\n  transistion: transitions.SCALE\n}\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <AlertProvider template={AlertTemplate} {...options}>\n      <App />\n    </AlertProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}